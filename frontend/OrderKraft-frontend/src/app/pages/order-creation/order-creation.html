<div class="max-w-xl mx-auto mt-10 bg-white p-8 rounded-xl shadow-md">
  <h2 class="text-2xl font-bold mb-6 text-center">Create New Order</h2>

  <form [formGroup]="orderForm" (ngSubmit)="submitOrder()" novalidate>
    
    <!-- Order Date -->
    <div class="mb-4">
      <label class="block mb-1 font-semibold">Order Date</label>
      <input type="date" formControlName="orderDate" class="w-full border p-2 rounded bg-gray-100" readonly />
    </div>

    <!-- Procurement Officer ID -->
    <div class="mb-4">
      <label class="block mb-1 font-semibold">Procurement Officer ID</label>
      <input type="text" formControlName="procurementOfficerId" class="w-full border p-2 rounded bg-gray-100" readonly />
    </div>

    <!-- Raw Material Name -->
    <div class="mb-4">
      <label class="block mb-1 font-semibold">Raw Material</label>
      <select formControlName="rawMaterialName" class="w-full border p-2 rounded"
              (change)="onRawMaterialSelect($event)">
        <option value="">Select Raw Material</option>
        <option *ngFor="let material of rawMaterials" [value]="material.name">
          {{ material.name }}
        </option>
      </select>
      <div class="text-sm mt-1"
           [ngClass]="{'text-green-600': selectedMaterial?.status === 'Available',
                       'text-red-600': selectedMaterial?.status !== 'Available'}">
        {{ selectedMaterial?.status ? 'Status: ' + selectedMaterial?.status : '' }}
      </div>
    </div>

    <!-- Quantity -->
    <div class="mb-4">
      <label class="block mb-1 font-semibold">Quantity</label>
      <input type="number" formControlName="quantity" class="w-full border p-2 rounded"
             (input)="checkQuantity()" />
      <div class="text-sm mt-1"
           [ngClass]="{'text-green-600': isQuantityAvailable, 'text-red-600': !isQuantityAvailable}">
        {{ quantityMessage }}
      </div>
    </div>

    <!-- Supplier -->
    <div class="mb-4">
      <label class="block mb-1 font-semibold">Supplier</label>
      <select formControlName="supplierName" class="w-full border p-2 rounded"
              (change)="onSupplierSelect($event)">
        <option value="">Select Supplier</option>
        <option *ngFor="let supplier of selectedSuppliers" [value]="supplier.name">
          {{ supplier.name }}
        </option>
      </select>
    </div>

    <!-- Unit Price -->
    <div class="mb-4">
      <label class="block mb-1 font-semibold">Unit Price</label>
      <input type="text" formControlName="unitPrice" class="w-full border p-2 rounded bg-gray-100" readonly />
    </div>

    <!-- Total Amount -->
    <div class="mb-4">
      <label class="block mb-1 font-semibold">Total Amount</label>
      <input type="text" formControlName="totalAmount" class="w-full border p-2 rounded bg-gray-100" readonly />
    </div>

    <!-- Submit -->
    <div class="mt-6">
      <button type="submit" class="w-full bg-blue-700 hover:bg-blue-800 text-white font-semibold py-2 rounded"
              [disabled]="!isQuantityAvailable || !orderForm.valid">
        Create Order
      </button>
    </div>

  </form>
</div>
